<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Converter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
    </style>
</head>
<body>

<div class="bg-white p-8 sm:p-12 rounded-2xl shadow-2xl max-w-xl w-full mx-4 border border-gray-200">
    <h1 class="text-4xl sm:text-5xl font-extrabold text-center text-gray-800 mb-2">Number Converter</h1>
    <p class="text-center text-gray-500 mb-8 sm:mb-12 text-lg sm:text-xl font-medium">Convert between Decimal, Binary, Octal, and Hexadecimal</p>

    <div class="space-y-6">
        <!-- Decimal Input -->
        <div>
            <label for="decimal" class="block text-sm font-semibold text-gray-700 mb-1">Decimal</label>
            <input type="text" id="decimal" class="w-full px-4 py-3 border border-gray-300 rounded-xl text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" placeholder="Enter a decimal number">
        </div>

        <!-- Binary Input -->
        <div>
            <label for="binary" class="block text-sm font-semibold text-gray-700 mb-1">Binary</label>
            <input type="text" id="binary" class="w-full px-4 py-3 border border-gray-300 rounded-xl text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" placeholder="Enter a binary number">
        </div>

        <!-- Octal Input -->
        <div>
            <label for="octal" class="block text-sm font-semibold text-gray-700 mb-1">Octal</label>
            <input type="text" id="octal" class="w-full px-4 py-3 border border-gray-300 rounded-xl text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" placeholder="Enter an octal number">
        </div>

        <!-- Hexadecimal Input -->
        <div>
            <label for="hexadecimal" class="block text-sm font-semibold text-gray-700 mb-1">Hexadecimal</label>
            <input type="text" id="hexadecimal" class="w-full px-4 py-3 border border-gray-300 rounded-xl text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200" placeholder="Enter a hexadecimal number">
        </div>
    </div>
    
    <!-- Error Message Display -->
    <div id="errorMessage" class="hidden text-center mt-6 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg">
        Invalid input. Please enter a valid number for the selected base.
    </div>
</div>

<script>
    // Get all the input elements
    const decimalInput = document.getElementById('decimal');
    const binaryInput = document.getElementById('binary');
    const octalInput = document.getElementById('octal');
    const hexadecimalInput = document.getElementById('hexadecimal');
    const errorMessageDiv = document.getElementById('errorMessage');

    // Function to show an error message
    const showError = (message) => {
        errorMessageDiv.textContent = message;
        errorMessageDiv.classList.remove('hidden');
    };

    // Function to hide the error message
    const hideError = () => {
        errorMessageDiv.classList.add('hidden');
    };

    // Function to convert and update all fields
    const convert = (value, fromBase) => {
        let decimalValue = 0;
        let valid = false;

        // Check for empty input
        if (value === '') {
            hideError();
            clearInputs();
            return;
        }

        try {
            if (fromBase === 10) {
                const num = parseFloat(value);
                if (!isNaN(num) && num >= 0 && num % 1 === 0) {
                    decimalValue = num;
                    valid = true;
                }
            } else {
                decimalValue = parseInt(value, fromBase);
                // Check if the input string is a valid number for the base
                if (!isNaN(decimalValue) && decimalValue.toString(fromBase) === value.toLowerCase()) {
                    valid = true;
                }
            }
        } catch (e) {
            valid = false;
        }

        // If the value is valid, update all the fields and hide any error messages
        if (valid) {
            hideError();
            if (fromBase !== 10) decimalInput.value = decimalValue.toString(10);
            if (fromBase !== 2) binaryInput.value = decimalValue.toString(2);
            if (fromBase !== 8) octalInput.value = decimalValue.toString(8);
            if (fromBase !== 16) hexadecimalInput.value = decimalValue.toString(16);
        } else {
            // If invalid input, clear other fields and show a specific error message
            if (fromBase === 10) {
                showError("Invalid decimal number. Please use only digits.");
            } else if (fromBase === 2) {
                showError("Invalid binary number. Please use only 0s and 1s.");
            } else if (fromBase === 8) {
                showError("Invalid octal number. Please use digits 0-7.");
            } else if (fromBase === 16) {
                showError("Invalid hexadecimal number. Please use digits 0-9 and letters A-F.");
            }
            clearInputs();
        }
    };

    // Function to clear all input fields except the active one
    const clearInputs = () => {
        decimalInput.value = '';
        binaryInput.value = '';
        octalInput.value = '';
        hexadecimalInput.value = '';
    };

    // Add event listeners to each input field
    decimalInput.addEventListener('input', (e) => {
        decimalInput.value = e.target.value;
        convert(e.target.value, 10);
    });

    binaryInput.addEventListener('input', (e) => {
        binaryInput.value = e.target.value.replace(/[^0-1]/g, '');
        convert(binaryInput.value, 2);
    });

    octalInput.addEventListener('input', (e) => {
        octalInput.value = e.target.value.replace(/[^0-7]/g, '');
        convert(octalInput.value, 8);
    });

    hexadecimalInput.addEventListener('input', (e) => {
        hexadecimalInput.value = e.target.value.replace(/[^0-9a-fA-F]/g, '');
        convert(hexadecimalInput.value, 16);
    });
</script>

</body>
</html>